<div class="container">
  <h3>Novo Motivo</h3>

  <div class="form-card">
    <p class="erro" *ngIf="erro">{{ erro }}</p>
    <p class="info" *ngIf="loading">Salvando...</p>

    <form (ngSubmit)="salvar()" #f="ngForm">
      <div class="form-group">
        <label>Banco</label>
        <select name="bancoId" [(ngModel)]="form.bancoId" required>
          <option value="" disabled>Selecione um banco</option>
          <option *ngFor="let b of bancos" [value]="b.id">
            {{ pad4(b.numero_banco) }} - {{ b.nome }}
          </option>
        </select>
      </div>

      <div class="form-group">
        <label>Ocorrência</label>
        <input
          name="ocorrencia"
          placeholder="Ex: 02"
          maxlength="2"
          [(ngModel)]="form.ocorrencia"
          required
        />
      </div>

      <div class="form-group">
        <label>Motivo</label>
        <input
          name="motivo"
          placeholder="Ex: 00"
          maxlength="2"
          [(ngModel)]="form.motivo"
          required
        />
      </div>

      <div class="form-group">
        <label>Descrição</label>
        <input
          name="descricao"
          placeholder="Descrição do motivo"
          [(ngModel)]="form.descricao"
          required
        />
      </div>

      <div class="form-group">
        <label class="optional">Observação</label>
        <textarea
          name="observacao"
          rows="4"
          placeholder="Informações adicionais (opcional)"
          [(ngModel)]="form.observacao"
        ></textarea>
      </div>

      <div class="button-group">
        <button type="button" class="btn-voltar" (click)="voltar()">
          Voltar
        </button>
        <button type="submit" class="btn-salvar" [disabled]="loading || f.invalid">
          {{ loading ? 'Salvando...' : 'Salvar' }}
        </button>
      </div>
    </form>
  </div>
</div>
