<section class="calculadora-page">
  <div class="container">
    <!-- Header com Breadcrumb -->
    <div class="breadcrumb">
      <a routerLink="/calculadora">
        <span class="material-icons">arrow_back</span>
        Voltar para Calculadoras
      </a>
    </div>

    <header class="header">
      <div class="header-title-wrapper">
        <div class="icon-wrapper">
          <span class="material-icons">trending_down</span>
        </div>
        <h1>Calculadora de Deságio</h1>
      </div>
      <p>Calcule o desconto para pagamento antecipado</p>
    </header>

    <!-- Conteúdo -->
    <div class="calc-grid">
      <!-- Formulário -->
      <div class="form-card">
        <h2>
          <span class="material-icons">trending_down</span>
          Dados do Cálculo
        </h2>

        <div class="form-group">
          <label for="desagioValorFace">Valor de Face (R$)</label>
          <input
            type="number"
            id="desagioValorFace"
            [(ngModel)]="desagioValorFace"
            placeholder="0,00"
            min="0"
            step="0.01"
          />
        </div>

        <div class="form-group">
          <label for="desagioFator">Fator (%)</label>
          <input
            type="number"
            id="desagioFator"
            [(ngModel)]="desagioFator"
            placeholder="0"
            min="0"
            step="0.01"
          />
        </div>

        <div class="form-group">
          <label for="desagioPrazo">Prazo (dias)</label>
          <input
            type="number"
            id="desagioPrazo"
            [(ngModel)]="desagioPrazo"
            placeholder="0"
            min="0"
          />
        </div>

        <div class="formula-info">
          <strong>Fórmula:</strong> (fator / 30) × prazo / 100 × valor de face
        </div>

        <div class="buttons">
          <button type="button" class="btn-calcular" (click)="calcularDesagio()">
            <span class="material-icons">calculate</span>
            Calcular
          </button>
          <button type="button" class="btn-limpar" (click)="limparDesagio()">
            <span class="material-icons">refresh</span>
            Limpar
          </button>
        </div>
      </div>

      <!-- Resultados -->
      <div class="result-card" *ngIf="resultadoDesagio">
        <h2>
          <span class="material-icons">receipt_long</span>
          Resultado
        </h2>

        <div class="result-item">
          <span class="label">Valor de Face:</span>
          <span class="value">{{ formatarMoeda(resultadoDesagio.valorFace) }}</span>
        </div>

        <div class="result-item negative">
          <span class="label">Deságio:</span>
          <span class="value">- {{ formatarMoeda(resultadoDesagio.desagio) }}</span>
        </div>

        <div class="divider"></div>

        <div class="result-item total">
          <span class="label">Valor Líquido:</span>
          <span class="value">{{ formatarMoeda(resultadoDesagio.valorLiquido) }}</span>
        </div>

        <div class="info-message">
          <span class="material-icons">info</span>
          <p>Os valores são calculados com base na taxa mensal convertida para taxa diária (divisão por 30 dias).</p>
        </div>
      </div>

      <!-- Card vazio quando não há resultado -->
      <div class="result-card empty" *ngIf="!resultadoDesagio">
        <div class="empty-state">
          <span class="material-icons">assessment</span>
          <h3>Aguardando cálculo</h3>
          <p>Preencha os campos ao lado e clique em "Calcular" para ver os resultados</p>
        </div>
      </div>
    </div>
  </div>
</section>
