<div class="juros-container">
  <!-- Bot√£o Voltar -->
  <a class="btn-voltar" routerLink="/calculadora">
    ‚Üê Voltar
  </a>

  <div class="juros-header">
    <h2>üìä Calculadora de Juros</h2>
    <p class="subtitle">Calcule juros proporcionais por dias de atraso</p>
  </div>

  <!-- Explica√ß√£o da F√≥rmula -->
  <div class="formula-info">
    <h3>Como funciona o c√°lculo?</h3>
    <div class="formulas">
      <div class="formula-item">
        <span class="formula-label">Taxa Di√°ria:</span>
        <code>Percentual (%) √∑ 30 dias</code>
      </div>
      <div class="formula-item">
        <span class="formula-label">Juros:</span>
        <code>(Taxa Di√°ria √ó Dias) √ó Valor √∑ 100</code>
      </div>
      <div class="formula-item total">
        <span class="formula-label">F√≥rmula Completa:</span>
        <code>(% √∑ 30) √ó Dias √ó Valor √∑ 100</code>
      </div>
    </div>
  </div>

  <!-- Formul√°rio -->
  <div class="form-section">
    <div class="form-row">
      <div class="form-group">
        <label for="valorFace">
          Valor de Face (R$)
          <span class="hint">Valor original do t√≠tulo</span>
        </label>
        <input
          id="valorFace"
          type="number"
          [(ngModel)]="valorFace"
          step="0.01"
          min="0"
          placeholder="Ex: 1.000,00">
      </div>

      <div class="form-group">
        <label for="percentual">
          Percentual (%)
          <span class="hint">Taxa de juros mensal</span>
        </label>
        <div class="input-with-suffix">
          <input
            id="percentual"
            type="number"
            [(ngModel)]="percentual"
            step="0.01"
            min="0"
            placeholder="Ex: 1,00">
          <span class="suffix">%</span>
        </div>
      </div>

      <div class="form-group">
        <label for="diasAtraso">
          Dias de Atraso
          <span class="hint">Quantidade de dias em atraso</span>
        </label>
        <input
          id="diasAtraso"
          type="number"
          [(ngModel)]="diasAtraso"
          min="0"
          placeholder="Ex: 15">
      </div>
    </div>

    <div class="button-group">
      <button type="button" class="btn-calcular" (click)="calcular()">
        <span class="btn-icon">üìä</span>
        Calcular Juros
      </button>
      <button type="button" class="btn-limpar" (click)="limpar()" *ngIf="resultado">
        <span class="btn-icon">üîÑ</span>
        Nova Simula√ß√£o
      </button>
    </div>
  </div>

  <!-- Resultado -->
  <div *ngIf="resultado" class="resultado">
    <h3>üìã Resultado da Simula√ß√£o</h3>

    <div class="resultado-detalhes">
      <div class="input-summary">
        <div class="summary-item">
          <span class="label">Valor de Face:</span>
          <span class="value">{{ formatarMoeda(valorFace) }}</span>
        </div>
        <div class="summary-item">
          <span class="label">Taxa Mensal:</span>
          <span class="value">{{ percentual }}%</span>
        </div>
        <div class="summary-item">
          <span class="label">Dias em Atraso:</span>
          <span class="value">{{ diasAtraso }} {{ diasAtraso === 1 ? 'dia' : 'dias' }}</span>
        </div>
        <div class="summary-item">
          <span class="label">Taxa Di√°ria:</span>
          <span class="value taxa">{{ (percentual / 30).toFixed(4) }}%</span>
        </div>
      </div>

      <div class="calculo-breakdown">
        <div class="breakdown-item">
          <div class="breakdown-header">
            <span class="breakdown-label">Juros Calculados</span>
            <span class="breakdown-formula">({{ percentual }}% √∑ 30) √ó {{ diasAtraso }} √ó {{ formatarMoeda(valorFace) }} √∑ 100</span>
          </div>
          <div class="breakdown-value">{{ formatarMoeda(resultado.juros) }}</div>
        </div>

        <div class="breakdown-item total">
          <div class="breakdown-header">
            <span class="breakdown-label">Total (Face + Juros)</span>
          </div>
          <div class="breakdown-value-total">{{ formatarMoeda(resultado.total) }}</div>
        </div>
      </div>
    </div>
  </div>
</div>
